!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirecbf3,n=r.register;n("61J3Q",(function(n,i){t(n.exports,"default",(function(){return l}));var o=r("uqRmf"),a=r("eVDe4"),s=r("kFnE9"),u=r("k0KRW"),l=function(){function t(r,n){var i=this;e(o)(this,t),e(s)(this,"getItem",(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useExpiredItem:!1}).useExpiredItem,r=i.client.getItem(i.itemKey(e));if(r)try{var n=JSON.parse(r);if(n.expires&&new Date(n.expires)<new Date&&!t)return;return n.value}catch(e){i.captureException(e)}})),e(s)(this,"removeItem",(function(e){try{i.client.removeItem(i.itemKey(e))}catch(e){i.captureException(e)}})),e(s)(this,"setItemWithExpiry",(function(e,t,r){var n={value:t,expires:"number"==typeof r?Date.now()+r:void 0};try{i.client.setItem(i.itemKey(e),JSON.stringify(n))}catch(e){i.captureException(e)}})),this.clientKey=r,this.handlers=null==n?void 0:n.handlers;var a=(null==n?void 0:n.storageEngine)||"localStorage";Object.prototype.hasOwnProperty.call(window,a)||(0,u.mockWindowStorage)([a]),this.client=window[a]}return e(a)(t,[{key:"captureException",value:function(e,t){var r,n;null!==(r=this.handlers)&&void 0!==r&&r.captureException&&(null===(n=this.handlers)||void 0===n||n.captureException(e,t))}},{key:"itemKey",value:function(e){return"".concat(this.clientKey,"_").concat(e)}}]),t}()})),n("k0KRW",(function(n,i){t(n.exports,"mockWindowStorage",(function(){return d}));var o=r("kFnE9");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){e(o)(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c={_data:{},length:0,setItem:function(e,t){return this._data[e]=String(t)},getItem:function(e){return this._data.hasOwnProperty(e)?this._data[e]:void 0},removeItem:function(e){return delete this._data[e]},clear:function(){return this._data={}},key:function(e){return Object.keys(this._data)[e]}},d=function(){var e,t=u(arguments.length>0&&void 0!==arguments[0]?arguments[0]:["localStorage","sessionStorage"]);try{for(t.s();!(e=t.n()).done;){var r=e.value;Object.defineProperty(window,r,{value:s({},c),configurable:!0})}}catch(e){t.e(e)}finally{t.f()}}})),n("21Bck",(function(e,t){"use strict";var n=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=e.exports&&e.exports.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=e.exports&&e.exports.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},u=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EvaluationReason=e.exports.DynamicConfig=void 0;const l=o(r("iiPPB"));Object.defineProperty(e.exports,"DynamicConfig",{enumerable:!0,get:function(){return r("iiPPB").DynamicConfig}}),Object.defineProperty(e.exports,"EvaluationReason",{enumerable:!0,get:function(){return r("iiPPB").EvaluationReason}});const c=u(r("2Do6Z"));a(r("5nQIX"),e.exports);const d="client-default-key";class f{static async initialize(e,t,r){return f.initPromise?(f.shallowEquals(e,f.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),f.initPromise):(f.initOptions=e,f.initPromise=f.init(e,t,r).then((()=>{f.initCompleted=!0})),f.initPromise)}static async initializeFromValues(e,t,r,n={}){return f.initPromise?(f.shallowEquals(e,f.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),f.initPromise):(f.initOptions=e,f.initPromise=f.initFromValues(e,t,r,n).then((()=>{f.initCompleted=!0})),f.initPromise)}static async updateUser(e,t,r){await f.updateUserUsingInitializeValuesProducer((()=>c.default.fetchExperimentValues(e,t,r).then((({experimentValues:e,customAttributes:t})=>({experimentValues:e,customAttributesFromFetch:t})))),t,r)}static async updateUserWithValues(e,t,r={}){await f.updateUserUsingInitializeValuesProducer((()=>Promise.resolve({experimentValues:r,customAttributesFromFetch:t})),e,t)}static initializeCalled(){return null!=f.initPromise}static initializeCompleted(){return f.initCompleted}static checkGate(e){return l.default.checkGate(e)}static getExperiment(e,t){try{const r={fireExperimentExposure:!0},{fireExperimentExposure:n}=Object.assign(Object.assign({},r),t);return(n?l.default.getExperiment.bind(l.default):l.default.getExperimentWithExposureLoggingDisabled.bind(l.default))(e)}catch(t){return f.hasGetExperimentErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment. Only the first occurrence of this error is logged.",experimentName:e,error:t}),f.hasGetExperimentErrorOccurred=!0),new l.DynamicConfig(e,{},"",{time:Date.now(),reason:l.EvaluationReason.Error})}}static getExperimentValue(e,t,r,n){const i=f.getExperiment(e,n);try{const e={},{typeGuard:o}=Object.assign(Object.assign({},e),n);return i.get(t,r,o)}catch(t){return f.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:n,error:t}),f.hasGetExperimentValueErrorOccurred=!0),r}}static manuallyLogExperimentExposure(e){l.default.manuallyLogExperimentExposure(e)}static shutdownStatsig(){l.default.shutdown()}static overrideGate(e,t){l.default.overrideGate(e,t)}static clearGateOverride(e){l.default.overrideGate(e,null)}static overrideConfig(e,t){l.default.overrideConfig(e,t)}static clearConfigOverride(e){l.default.overrideConfig(e,null)}static setOverrides(e){l.default.setOverrides(e)}static clearAllOverrides(){l.default.setOverrides(null)}static isCurrentUser(e,t){return f.shallowEquals(f.currentIdentifiers,e)&&f.shallowEquals(f.currentAttributes,t)}static async init(e,t,r){const n=Object.assign(Object.assign({},e),{disableCurrentPageLogging:!0});let i,o;try{const a=c.default.fetchClientSdk(e).then((e=>n.sdkKey=e.clientSdkKey)),s=c.default.fetchExperimentValues(e,t,r),[,u]=await Promise.all([a,s]);i=u.experimentValues,o=u.customAttributes}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to fetch the Feature Gates client values, error: ${null==e?void 0:e.message}`),console.warn("Initialising Statsig client without values"),await f.initFromValues(n,t,r),e}await this.initFromValues(n,t,o,i)}static async initFromValues(e,t,r,n={}){const i=this.toStatsigUser(t,r);f.currentIdentifiers=t,f.currentAttributes=r,e.sdkKey||(e.sdkKey=d);const{sdkKey:o}=e,a=this.toStatsigOptions(e,n);try{await l.default.initialize(o,i,a)}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to initialise the Statsig client, error: ${null==e?void 0:e.message}`),console.warn("Initialising Statsig client with default sdk key and without values"),await l.default.initialize(d,i,Object.assign(Object.assign({},a),{initializeValues:{}})),e}}static toStatsigUser(e,t){const r={customIDs:e,custom:t};return e.atlassianAccountId&&(r.userID=e.atlassianAccountId),r}static async updateUserUsingInitializeValuesProducer(e,t,r){if(!f.initPromise)throw new Error("The FeatureGates client must be initialized before you can update the user.");if(f.isCurrentUser(t,r))return f.initPromise;const n=f.initPromise;try{await f.initPromise}catch(e){}const i=e(),o=f.updateStatsigClientUser(i,t,r);return f.initPromise=o.catch((()=>{f.initPromise=n})),o}static async updateStatsigClientUser(e,t,r){var n,i;let o,a;try{o=await e,a=f.toStatsigUser(t,o.customAttributesFromFetch)}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e);throw null===(i=(n=f.initOptions).updateUserCompletionCallback)||void 0===i||i.call(n,!1,t),e}if(!l.default.updateUserWithValues(a,o.experimentValues))throw new Error("Failed to update user. An unexpected error occured.");f.currentIdentifiers=t,f.currentAttributes=r}static toStatsigOptions(e,t){const{sdkKey:r,updateUserCompletionCallback:n}=e,i=s(e,["sdkKey","updateUserCompletionCallback"]);return Object.assign(Object.assign(Object.assign({},i),{initializeValues:t,environment:{tier:e.environment},disableCurrentPageLogging:!0}),e.updateUserCompletionCallback&&{updateUserCompletionCallback:f.toStatsigUpdateUserCompletionCallback(e.updateUserCompletionCallback)})}static toStatsigUpdateUserCompletionCallback(e){return(t,r,n)=>{e(r,n)}}static shallowEquals(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const r=Object.entries(e),n=Object.entries(t);if(r.length!==n.length)return!1;const i=([e],[t])=>e.localeCompare(t);r.sort(i),n.sort(i);for(let e=0;e<r.length;e++){const[,t]=r[e],[,i]=n[e];if(t!==i)return!1}return!0}}f.initPromise=null,f.initCompleted=!1,f.hasGetExperimentErrorOccurred=!1,f.hasGetExperimentValueErrorOccurred=!1,e.exports.default=f,"undefined"!=typeof window&&(window.__FEATUREGATES_JS__=f)})),n("iiPPB",(function(e,t){"use strict";var n=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=e.exports&&e.exports.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EvaluationReason=e.exports.DynamicConfig=void 0;var a=r("9KdHO"),s=o(r("1TKi3")),u=r("6YuR1"),l=r("kcbPW");Object.defineProperty(e.exports,"DynamicConfig",{enumerable:!0,get:function(){return o(l).default}});u=r("6YuR1");Object.defineProperty(e.exports,"EvaluationReason",{enumerable:!0,get:function(){return u.EvaluationReason}});var c=function(){function e(){}return e.initialize=function(t,r,o){var a;return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){return n=null!==(a=e.instance)&&void 0!==a?a:new s.default(t,r,o),e.instance||(e.instance=n),[2,n.initializeAsync()]}))}))},e.setInitializeValues=function(t){e._getClientX().setInitializeValues(t)},e.checkGate=function(t){return e._getClientX().checkGate(t)},e.checkGateWithExposureLoggingDisabled=function(t){return e._getClientX().checkGateWithExposureLoggingDisabled(t)},e.manuallyLogGateExposure=function(t){e._getClientX().logGateExposure(t)},e.getConfig=function(t){return e._getClientX().getConfig(t)},e.getConfigWithExposureLoggingDisabled=function(t){return e._getClientX().getConfigWithExposureLoggingDisabled(t)},e.manuallyLogConfigExposure=function(t){e._getClientX().logConfigExposure(t)},e.getExperiment=function(t){return e._getClientX().getExperiment(t)},e.getExperimentWithExposureLoggingDisabled=function(t){return e._getClientX().getExperimentWithExposureLoggingDisabled(t)},e.manuallyLogExperimentExposure=function(t){e._getClientX().logExperimentExposure(t)},e.getLayer=function(t){return e._getClientX().getLayer(t)},e.getLayerWithExposureLoggingDisabled=function(t){return e._getClientX().getLayerWithExposureLoggingDisabled(t)},e.manuallyLogLayerParameterExposure=function(t,r){e._getClientX().logLayerParameterExposure(t,r)},e.logEvent=function(t,r,n){return void 0===r&&(r=null),void 0===n&&(n=null),e._getClientX().logEvent(t,r,n)},e.updateUser=function(t){return e._getClientX().updateUser(t)},e.updateUserWithValues=function(t,r){return e._getClientX().updateUserWithValues(t,r)},e.shutdown=function(){e._getClientX().shutdown(),e.instance=null},e.overrideGate=function(t,r){e._getClientX().overrideGate(t,r)},e.overrideConfig=function(t,r){e._getClientX().overrideConfig(t,r)},e.overrideLayer=function(t,r){e._getClientX().overrideLayer(t,r)},e.setOverrides=function(t){e._getClientX().setOverrides(t)},e.getOverrides=function(){return e._getClientX().getOverrides()},e.getStableID=function(){return e._getClientX().getStableID()},e.getEvaluationDetails=function(){var t,r;return null!==(r=null===(t=e.instance)||void 0===t?void 0:t.getEvaluationDetails())&&void 0!==r?r:{reason:u.EvaluationReason.Uninitialized,time:0}},e.initializeCalled=function(){return null!=e.instance&&e.instance.initializeCalled()},e._getClientX=function(){if(!e.instance)throw new a.StatsigUninitializedError;return e.instance},e.instance=null,e}();e.exports.default=c})),n("9KdHO",(function(e,t){"use strict";var r,n,i,o=e.exports&&e.exports.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StatsigInvalidArgumentError=e.exports.StatsigUninitializedError=e.exports.StatsigErrorMessage=void 0,(i=n=e.exports.StatsigErrorMessage||(e.exports.StatsigErrorMessage={})).REQUIRE_ASYNC_INITIALIZE="Call initialize() first.",i.REQUIRE_SYNC_INITIALIZE="Call and wait for initialize() to finish first.",i.REQUIRE_INITIALIZE_FOR_LOG_EVENT="Must initialize() before logging events.";var a=function(e){function t(r){var i=e.call(this,null!=r?r:n.REQUIRE_SYNC_INITIALIZE)||this;return Object.setPrototypeOf(i,t.prototype),i}return o(t,e),t}(Error);e.exports.StatsigUninitializedError=a;var s=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return o(t,e),t}(Error);e.exports.StatsigInvalidArgumentError=s})),n("1TKi3",(function(e,t){"use strict";var n=e.exports&&e.exports.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},i=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},s=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},u=e.exports&&e.exports.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},l=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var c=l(r("kcbPW")),d=l(r("le2YB")),f=r("9KdHO"),p=l(r("01noY")),h=l(r("3Z7YL")),_=l(r("8sION")),g=l(r("9Cev3")),v=l(r("8Lbg5")),y=a(r("6YuR1")),m=l(r("eK7RG")),E=r("k2HtX"),x=l(r("2xtD0")),b=r("e0BEy"),w=function(){function e(e,t,r){var n=this;if(this._initCalled=!1,this._pendingInitPromise=null,this._logLayerParameterExposureForLayer=function(e,t,r){void 0===r&&(r=!1);var i="",o=e._undelegatedSecondaryExposures,a=e._explicitParameters.includes(t);a&&(i=e._allocatedExperimentName,o=e._secondaryExposures),n._logger.logLayerExposure(n._identity._user,e._name,e._ruleID,o,i,t,a,e._evaluationDetails,r)},!0!==(null==r?void 0:r.localMode)&&("string"!=typeof e||!e.startsWith("client-")))throw new f.StatsigInvalidArgumentError("Invalid key provided.  You must use a Client SDK Key from the Statsig console to initialize the sdk");this._startTime=(0,E.now)(),this._errorBoundary=new d.default(e),this._ready=!1,this._options=new v.default(r),m.default.disabled=this._options.disableLocalStorage,this._overrides=(0,b.loadOverridesFromLocalStorage)(),this._identity=new h.default(e,this._normalizeUser(null!=t?t:null),this._options.overrideStableID),this._network=new g.default(this._options,this._identity,this._errorBoundary),this._logger=new _.default(this._options,this._identity,this._network,this._errorBoundary),this._store=new y.default(this._identity,this._logger.logConfigDefaultValueFallback,this._options.initializeValues),this._errorBoundary._setStatsigMetadata(this._identity._statsigMetadata),null!=this._options.initializeValues&&(this._ready=!0,this._initCalled=!0,setTimeout((function(){return n._delayedSetup()}),20))}return e.prototype.setInitializeValues=function(e){var t=this;this._errorBoundary._capture("setInitializeValues",(function(){t._store.bootstrap(e),t._ready||(t._ready=!0,t._initCalled=!0),t._logger.sendSavedRequests()}),(function(){t._ready=!0,t._initCalled=!0}))},e.prototype.initializeAsync=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return[2,this._errorBoundary._capture("initializeAsync",(function(){return s(e,void 0,void 0,(function(){var e,t=this;return u(this,(function(r){return null!=this._pendingInitPromise?[2,this._pendingInitPromise]:this._ready?[2,Promise.resolve()]:(this._initCalled=!0,this._options.localMode?[2,Promise.resolve()]:(e=this._identity._user,this._pendingInitPromise=this._fetchAndSaveValues(e,this._options.initTimeoutMs).then((function(){})).catch((function(e){return t._errorBoundary._logError("initializeAsync:fetchAndSaveValues",e),{success:!1,message:e.message}})).then((function(){})).finally((function(){return s(t,void 0,void 0,(function(){return u(this,(function(e){return this._pendingInitPromise=null,this._ready=!0,this._delayedSetup(),[2]}))}))})),[2,this._pendingInitPromise]))}))}))}),(function(){return e._ready=!0,e._initCalled=!0,Promise.resolve()}))]}))}))},e.prototype.getEvaluationDetails=function(){var e=this;return this._errorBoundary._capture("getEvaluationDetails",(function(){return e._store.getGlobalEvaluationDetails()}),(function(){return{time:Date.now(),reason:y.EvaluationReason.Error}}))},e.prototype.checkGate=function(e){return this._checkGateImpl(e,"checkGate")},e.prototype.checkGateWithExposureLoggingDisabled=function(e){return this._checkGateImpl(e,"checkGateWithExposureLoggingDisabled")},e.prototype.logGateExposure=function(e){var t=this;this._errorBoundary._swallow("logGateExposure",(function(){t._logGateExposureImpl(e)}))},e.prototype.getConfig=function(e){return this._getConfigImpl(e,"getConfig")},e.prototype.getConfigWithExposureLoggingDisabled=function(e){return this._getConfigImpl(e,"getConfigWithExposureLoggingDisabled")},e.prototype.logConfigExposure=function(e){var t=this;this._errorBoundary._swallow("logConfigExposure",(function(){t._logConfigExposureImpl(e)}))},e.prototype.getExperiment=function(e){return this.getConfig(e)},e.prototype.getExperimentWithExposureLoggingDisabled=function(e){return this.getConfigWithExposureLoggingDisabled(e)},e.prototype.logExperimentExposure=function(e){this.logConfigExposure(e)},e.prototype.getLayer=function(e){return this._getLayerImpl(e,"getLayer")},e.prototype.getLayerWithExposureLoggingDisabled=function(e){return this._getLayerImpl(e,"getLayerWithExposureLoggingDisabled")},e.prototype.logLayerParameterExposure=function(e,t){var r=this;this._errorBoundary._swallow("logLayerParameterExposure",(function(){var n=r._getLayerFromStore(null,e);r._logLayerParameterExposureForLayer(n,t,!0)}))},e.prototype.logEvent=function(e,t,r){var n=this;void 0===t&&(t=null),void 0===r&&(r=null),this._errorBoundary._swallow("logEvent",(function(){if(!n._logger||!n._identity._sdkKey)throw new f.StatsigUninitializedError(f.StatsigErrorMessage.REQUIRE_INITIALIZE_FOR_LOG_EVENT);if("string"==typeof e&&0!==e.length){var i=(0,x.default)(e,n._identity._user,n._identity._statsigMetadata,t,r);n._logger.log(i)}}))},e.prototype.updateUserWithValues=function(e,t){var r,n=this,i=Date.now();return this._errorBoundary._capture("updateUserWithValues",(function(){if(!n.initializeCalled())throw new f.StatsigUninitializedError(f.StatsigErrorMessage.REQUIRE_ASYNC_INITIALIZE);return r=function(e,t){var r=n._options.updateUserCompletionCallback;null==r||r(Date.now()-i,e,t)},n._identity._user=n._normalizeUser(e),n._store.bootstrap(t),r(!0,null),!0}),(function(){return null==r||r(!1,"Failed to update user. An unexpected error occured."),!1}))},e.prototype.updateUser=function(e){return s(this,void 0,void 0,(function(){var t,r,n=this;return u(this,(function(i){return t=Date.now(),[2,this._errorBoundary._capture("updateUser",(function(){return s(n,void 0,void 0,(function(){var n,i=this;return u(this,(function(o){switch(o.label){case 0:if(!this.initializeCalled())throw new f.StatsigUninitializedError(f.StatsigErrorMessage.REQUIRE_ASYNC_INITIALIZE);return r=function(e,r){var n=i._options.updateUserCompletionCallback;null==n||n(Date.now()-t,e,r)},this._identity._user=this._normalizeUser(e),this._store.updateUser(),this._logger.resetDedupeKeys(),null==this._pendingInitPromise?[3,2]:[4,this._pendingInitPromise];case 1:o.sent(),o.label=2;case 2:return this._options.localMode?(r(!0,null),[2,Promise.resolve(!0)]):(n=this._identity._user,this._pendingInitPromise=this._fetchAndSaveValues(n).finally((function(){i._pendingInitPromise=null})),[2,this._pendingInitPromise.then((function(){return r(!0,null),Promise.resolve(!0)})).catch((function(e){return r(!1,"Failed to update user: ".concat(e)),Promise.resolve(!1)}))])}}))}))}),(function(){return r(!1,"Failed to update user. An unexpected error occured."),Promise.resolve(!1)}))]}))}))},e.prototype.shutdown=function(){var e=this;this._errorBoundary._swallow("shutdown",(function(){e._logger.shutdown()}))},e.prototype.getStableID=function(){var e=this;return this._errorBoundary._capture("getStableID",(function(){return e._identity._statsigMetadata.stableID}),(function(){return""}))},e.prototype.initializeCalled=function(){return this._initCalled},e.prototype.overrideGate=function(e,t){this._setOverride("gates",e,t)},e.prototype.overrideConfig=function(e,t){this._setOverride("configs",e,t)},e.prototype.overrideLayer=function(e,t){this._setOverride("layers",e,t)},e.prototype.setOverrides=function(e){var t=this;this._errorBoundary._swallow("setOverrides",(function(){t._overrides=null!=e?e:(0,b.makeEmptyOverrides)(),(0,b.saveOverridesToLocalStorage)(t._overrides)}))},e.prototype.getOverrides=function(){var e=this;return this._errorBoundary._capture("getOverrides",(function(){return e._overrides}),(function(){return(0,b.makeEmptyOverrides)()}))},e.prototype._delayedSetup=function(){var e=this;this._errorBoundary._swallow("delayedSetup",(function(){e._identity.saveStableID(),e._logger.sendSavedRequests().then((function(){}))}))},e.prototype._normalizeUser=function(e){var t={};try{t=JSON.parse(JSON.stringify(e))}catch(e){throw new f.StatsigInvalidArgumentError("User object must be convertable to JSON string.")}return null!=this._options.environment&&(t=n(n({},t),{statsigEnvironment:this._options.environment})),t},e.prototype._ensureStoreLoaded=function(){if(!this._store.isLoaded())throw new f.StatsigUninitializedError},e.prototype._getEvaluationDetailsForError=function(){return{time:Date.now(),reason:y.EvaluationReason.Error}},e.prototype._fetchAndSaveValues=function(e,t){return void 0===t&&(t=this._options.initTimeoutMs),s(this,void 0,void 0,(function(){var r,n,i=this;return u(this,(function(o){return null,r=this._store.getLastUpdateTime(e),n=this._store.getPreviousDerivedFields(e),[2,this._network.fetchValues(e,r,t,n).eventually((function(t){(null==t?void 0:t.has_updates)&&i._store.save(e,t,!1)})).then((function(t){return s(i,void 0,void 0,(function(){var r=this;return u(this,(function(n){return[2,this._errorBoundary._swallow("fetchAndSaveValues",(function(){return s(r,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return(null==t?void 0:t.has_updates)?[4,this._store.save(e,t)]:[3,2];case 1:return r.sent(),[3,3];case 2:(null==t?void 0:t.is_no_content)&&this._store.setEvaluationReason(y.EvaluationReason.NetworkNotModified),r.label=3;case 3:return[2]}}))}))}))]}))}))}))]}))}))},e.prototype._checkGateImpl=function(e,t){var r=this;return this._errorBoundary._capture(t,(function(){if("boolean"==typeof r._overrides.gates[e])return r._overrides.gates[e];var n=r._getGateFromStore(e);return"checkGate"===t&&r._logGateExposureImpl(e,n),!0===n.gate.value}),(function(){return!1}))},e.prototype._getGateFromStore=function(e){if(this._ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new f.StatsigInvalidArgumentError("Must pass a valid string as the gateName.");return this._store.checkGate(e)},e.prototype._logGateExposureImpl=function(e,t){var r=!t,n=null!=t?t:this._getGateFromStore(e),i=n.gate;this._logger.logGateExposure(this._identity._user,e,i.value,i.rule_id,i.secondary_exposures,n.evaluationDetails,r)},e.prototype._getConfigImpl=function(e,t){var r=this;return this._errorBoundary._capture(t,(function(){if(r._overrides.configs[e])return new c.default(e,r._overrides.configs[e],"local_override",{reason:y.EvaluationReason.LocalOverride,time:Date.now()});var n=r._getConfigFromStore(e);return"getConfig"===t&&r._logConfigExposureImpl(e,n),n}),(function(){return r._getEmptyConfig(e)}))},e.prototype._getConfigFromStore=function(e){if(this._ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new f.StatsigInvalidArgumentError("Must pass a valid string as the configName.");return this._store.getConfig(e)},e.prototype._logConfigExposureImpl=function(e,t){var r=!t,n=null!=t?t:this._getConfigFromStore(e);this._logger.logConfigExposure(this._identity._user,e,n._ruleID,n._secondaryExposures,n._evaluationDetails,r)},e.prototype._getLayerImpl=function(e,t){var r=this;return this._errorBoundary._capture(t,(function(){if(r._overrides.layers[e])return p.default._create(e,r._overrides.layers[e],"local_override",{reason:y.EvaluationReason.LocalOverride,time:Date.now()});var n="getLayer"===t?r._logLayerParameterExposureForLayer:null;return r._getLayerFromStore(n,e)}),(function(){return p.default._create(e,{},"",r._getEvaluationDetailsForError())}))},e.prototype._getLayerFromStore=function(e,t){if(this._ensureStoreLoaded(),"string"!=typeof t||0===t.length)throw new f.StatsigInvalidArgumentError("Must pass a valid string as the layerName.");return this._store.getLayer(e,t)},e.prototype._getEmptyConfig=function(e){return new c.default(e,{},"",this._getEvaluationDetailsForError())},e.prototype._setOverride=function(e,t,r){null==r?delete this._overrides[e][t]:this._overrides[e][t]=r,this.setOverrides(this._overrides)},e}();e.exports.default=w})),n("kcbPW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i,o,a){void 0===i&&(i=[]),void 0===o&&(o=""),void 0===a&&(a=null),this._onDefaultValueFallback=null,this.value=JSON.parse(JSON.stringify(null!=t?t:{})),this._name=e,this._ruleID=null!=r?r:"",this._secondaryExposures=i,this._allocatedExperimentName=o,this._evaluationDetails=n,this._onDefaultValueFallback=a}return e.prototype.get=function(e,t,r){var n,i,o=this.getValue(e,t);if(null==o)return t;var a=Array.isArray(t)?"array":typeof t,s=Array.isArray(o)?"array":typeof o;return r?r(o)?o:(null===(n=this._onDefaultValueFallback)||void 0===n||n.call(this,this,e,a,s),t):null==t||a===s?o:(null===(i=this._onDefaultValueFallback)||void 0===i||i.call(this,this,e,a,s),t)},e.prototype.getValue=function(e,t){return null==e?this.value:(null==t&&(t=null),null==this.value[e]?t:this.value[e])},e}();e.exports.default=r})),n("le2YB",(function(e,t){"use strict";var n=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=e.exports&&e.exports.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ExceptionEndpoint=void 0;var o=r("9KdHO");e.exports.ExceptionEndpoint="https://statsigapi.net/v1/sdk_exception";var a=function(){function t(e){this._seen=new Set,this._sdkKey=e}return t.prototype._setStatsigMetadata=function(e){this._statsigMetadata=e},t.prototype._swallow=function(e,t){this._capture(e,t,(function(){}))},t.prototype._capture=function(e,t,r,n){var i=this;try{var o=t();return o instanceof Promise?o.catch((function(t){return i._onCaught(e,t,r,n)})):o}catch(t){return this._onCaught(e,t,r,n)}},t.prototype._logError=function(t,r,o){var a=this;try{n(a,void 0,void 0,(function(){var n,a,s,u,l,c,d,f,p;return i(this,(function(i){switch(i.label){case 0:return"function"!=typeof o?[3,2]:[4,o()];case 1:return a=i.sent(),[3,3];case 2:a=null,i.label=3;case 3:return n=a,s=null!=r?r:Error("[Statsig] Error was empty"),u=s instanceof Error,l=u?s.name:"No Name",this._seen.has(l)?[2]:(this._seen.add(l),c=u?s.stack:this._getDescription(s),d=null!==(p=this._statsigMetadata)&&void 0!==p?p:{},f=JSON.stringify({tag:t,exception:l,info:c,statsigMetadata:d,extra:null!=n?n:{}}),[2,fetch(e.exports.ExceptionEndpoint,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(d.sdkType),"STATSIG-SDK-VERSION":String(d.sdkVersion),"Content-Type":"application/json","Content-Length":"".concat(f.length)},body:f})])}}))})).then((function(){})).catch((function(){}))}catch(e){}},t.prototype._onCaught=function(e,t,r,n){if(t instanceof o.StatsigUninitializedError||t instanceof o.StatsigInvalidArgumentError)throw t;return console.error("[Statsig] An unexpected exception occurred.",t),this._logError(e,t,n),r()},t.prototype._getDescription=function(e){try{return JSON.stringify(e)}catch(e){return"[Statsig] Failed to get string for error."}},t}();e.exports.default=a})),n("01noY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i,o,a,s,u){void 0===i&&(i=null),void 0===o&&(o=[]),void 0===a&&(a=[]),void 0===s&&(s=""),void 0===u&&(u=[]),this._logParameterFunction=i,this._name=e,this._value=JSON.parse(JSON.stringify(null!=t?t:{})),this._ruleID=null!=r?r:"",this._evaluationDetails=n,this._secondaryExposures=o,this._undelegatedSecondaryExposures=a,this._allocatedExperimentName=s,this._explicitParameters=u}return e._create=function(t,r,n,i,o,a,s,u,l){return void 0===o&&(o=null),void 0===a&&(a=[]),void 0===s&&(s=[]),void 0===u&&(u=""),void 0===l&&(l=[]),new e(t,r,n,i,o,a,s,u,l)},e.prototype.get=function(e,t,r){var n=this,i=this._value[e];if(null==i)return t;var o=function(){return n._logLayerParameterExposure(e),i};return r?r(i)?o():t:null==t||typeof i==typeof t&&Array.isArray(t)===Array.isArray(i)?o():t},e.prototype.getValue=function(e,t){null==t&&(t=null);var r=this._value[e];return null!=r&&this._logLayerParameterExposure(e),null!=r?r:t},e.prototype._logLayerParameterExposure=function(e){var t;null===(t=this._logParameterFunction)||void 0===t||t.call(this,this,e)},e}();e.exports.default=r})),n("3Z7YL",(function(e,t){"use strict";var n=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var i=r("3Kmxx"),o=r("9PHrf"),a=n(r("eK7RG")),s=r("9dxt2"),u=function(){function e(e,t,r){var n;this._sdkType="js-lite",this._sdkKey=e,this._user=t,this._sdkVersion=s.version;var o=r;o=null!==(n=null!=o?o:a.default.getItem(i.STATSIG_STABLE_ID_KEY))&&void 0!==n?n:this._getUUID(),this._statsigMetadata={stableID:o,sdkType:this._sdkType,sdkVersion:this._sdkVersion}}return e.prototype.saveStableID=function(){null!=this._statsigMetadata.stableID&&a.default.setItem(i.STATSIG_STABLE_ID_KEY,this._statsigMetadata.stableID)},e.prototype.getUserCacheKey=function(){return(0,o.getUserCacheKey)(this._user)},e.prototype._getUUID=function(){for(var e="",t=0;t<32;t++){8!==t&&12!==t&&16!==t&&20!==t||(e+="-");var r=16*Math.random()|0;e+=12===t?"4":16===t?(3&r|8).toString(16):r.toString(16)}return e},e}();e.exports.default=u})),n("3Kmxx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LOCAL_STORAGE_KEYS=e.exports.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY=e.exports.STATSIG_STABLE_ID_KEY=e.exports.INTERNAL_STORE_KEY=void 0,e.exports.INTERNAL_STORE_KEY="STATSIG_STORE",e.exports.STATSIG_STABLE_ID_KEY="STATSIG_STABLE_ID",e.exports.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY="STATSIG_LOGS",e.exports.LOCAL_STORAGE_KEYS={INTERNAL_STORE_KEY:!0,STATSIG_STABLE_ID_KEY:!0,STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY:!0}})),n("9PHrf",(function(e,t){"use strict";function r(e){for(var t=0,r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return String(t>>>0)}function n(e){if(null==e)return null;var t=Object.keys(e).sort(),r={};return t.forEach((function(t){var i=e[t];i instanceof Object&&(i=n(i)),r[t]=i})),r}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getUserCacheKey=e.exports.getSortedObject=e.exports.djb2HashForObject=e.exports.getHashValue=e.exports.SimpleHash=void 0,e.exports.SimpleHash=r,e.exports.getHashValue=function(e){return r(e)},e.exports.djb2HashForObject=function(e){return r(JSON.stringify(n(e)))},e.exports.getSortedObject=n,e.exports.getUserCacheKey=function(e){var t,n="userID:".concat(String(null!==(t=null==e?void 0:e.userID)&&void 0!==t?t:"")),i=null==e?void 0:e.customIDs;if(null!=i)for(var o=0,a=Object.entries(i);o<a.length;o++){var s=a[o],u=s[0],l=s[1];n+=";".concat(u,":").concat(l)}return r(n)}})),n("eK7RG",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=function(){function e(){}return e.getItem=function(e){var t;try{if(this.isStorageAccessible())return window.localStorage.getItem(e)}catch(e){}return null!==(t=this.fallbackSessionCache[e])&&void 0!==t?t:null},e.setItem=function(e,t){try{if(this.isStorageAccessible())return void window.localStorage.setItem(e,t)}catch(e){}this.fallbackSessionCache[e]=t},e.removeItem=function(e){try{if(this.isStorageAccessible())return void window.localStorage.removeItem(e)}catch(e){}delete this.fallbackSessionCache[e]},e.isStorageAccessible=function(e){void 0===e&&(e=!1),null==this.canAccessStorageAccessible&&(this.canAccessStorageAccessible="undefined"!=typeof Storage&&"undefined"!=typeof window&&null!=window&&null!=window.localStorage);var t=this.canAccessStorageAccessible;return(e||!this.disabled)&&t},e.disabled=!1,e.fallbackSessionCache={},e.canAccessStorageAccessible=null,e}();e.exports.default=r})),n("9dxt2",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.version=void 0,e.exports.version="1.2.1"})),n("8sION",(function(e,t){"use strict";var n=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=e.exports&&e.exports.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var a=o(r("2xtD0")),s=r("9Cev3"),u=r("3Kmxx"),l=o(r("eK7RG")),c="statsig::",d=c+"config_exposure",f=c+"layer_exposure",p=c+"gate_exposure",h=c+"log_event_failed",_=c+"default_value_type_mismatch",g=1024e3,v=function(){function e(e,t,r,n){var i=this;this._failedLogEventCount=0,this.logConfigDefaultValueFallback=function(e,t,r){var n=(0,a.default)(_,e,i._identity._statsigMetadata,t,r);i.log(n),i._loggedErrors.add(t)},this._options=e,this._identity=t,this._network=r,this._errorBoundary=n,this._queue=[],this._flushInterval=null,this._loggedErrors=new Set,this._failedLogEvents=[],this._exposureDedupeKeys={},this._failedLogEventCount=0,this._init()}return e.prototype.log=function(e){try{if(!this._options.disableCurrentPageLogging&&"undefined"!=typeof window&&null!=window&&"object"==typeof window.location&&"string"==typeof window.location.href){var t=window.location.href.split(/[?#]/);(null==t?void 0:t.length)>0&&(e.statsigMetadata.currentPage=t[0])}}catch(e){}this._queue.push(e),this._queue.length>=this._options.loggingBufferMaxSize&&this.flush()},e.prototype.resetDedupeKeys=function(){this._exposureDedupeKeys={}},e.prototype.logGateExposure=function(e,t,r,n,i,o,s){var u=t+String(r)+n+o.reason;if(this._shouldLogExposure(u)){var l={gate:t,gateValue:String(r),ruleID:n,reason:o.reason,time:o.time};s&&(l.isManualExposure="true");var c=(0,a.default)(p,e,this._identity._statsigMetadata,null,l,i);this.log(c)}},e.prototype.logConfigExposure=function(e,t,r,n,i,o){var s=t+r+i.reason;if(this._shouldLogExposure(s)){var u={config:t,ruleID:r,reason:i.reason,time:i.time};o&&(u.isManualExposure="true");var l=(0,a.default)(d,e,this._identity._statsigMetadata,null,u,n);this.log(l)}},e.prototype.logLayerExposure=function(e,t,r,n,i,o,s,u,l){var c=[t,r,i,o,String(s),u.reason].join("|");if(this._shouldLogExposure(c)){var d={config:t,ruleID:r,allocatedExperiment:i,parameterName:o,isExplicitParameter:String(s),reason:u.reason,time:u.time};l&&(d.isManualExposure="true");var p=(0,a.default)(f,e,this._identity._statsigMetadata,null,d,n);this.log(p)}},e.prototype.shutdown=function(){this._flushInterval&&(clearInterval(this._flushInterval),this._flushInterval=null),this.flush(!0)},e.prototype.flush=function(e){var t=this;if(void 0===e&&(e=!1),0!==this._queue.length){var r=this._identity._statsigMetadata,o=this._queue;if(this._queue=[],e&&!this._network.supportsKeepalive()&&"undefined"!=typeof navigator&&null!=navigator&&navigator.sendBeacon){this._network.sendLogBeacon({events:o,statsigMetadata:r})||(this._queue=o.concat(this._queue),this._queue.length>0&&(this._addFailedRequest({events:this._queue,statsigMetadata:r,time:Date.now()}),this._queue=[]),this._saveFailedRequests())}else{var a=this;this._network.postToEndpoint(s.StatsigEndpoint.Rgstr,{events:o,statsigMetadata:r},3,1e3,e).then((function(e){if(!e.ok)throw e})).catch((function(e){"function"==typeof e.text?e.text().then((function(r){t._errorBoundary._logError(h,e,(function(){return n(t,void 0,void 0,(function(){return i(this,(function(e){return[2,{eventCount:o.length,error:r}]}))}))}))})):t._errorBoundary._logError(h,e,(function(){return n(t,void 0,void 0,(function(){return i(this,(function(t){return[2,{eventCount:o.length,error:e.message}]}))}))})),a._newFailedRequest(h,o)})).finally((function(){return n(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e?(this._queue.length>0&&(this._addFailedRequest({events:this._queue,statsigMetadata:r,time:Date.now()}),this._queue=[]),[4,a._saveFailedRequests()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))}}},e.prototype.sendSavedRequests=function(){return n(this,void 0,void 0,(function(){var e,t,r,n,o,a,c,d,f=this;return i(this,(function(i){if(t=!1,null==(e=l.default.getItem(u.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)))return this._clearLocalStorageRequests(),[2];e.length>g&&(t=!0),r=[];try{for(r=JSON.parse(e),n=function(e){null!=e&&e.events&&Array.isArray(e.events)&&o._network.postToEndpoint(s.StatsigEndpoint.Rgstr,e).then((function(e){if(!e.ok)throw Error(e.status+"")})).catch((function(r){t||f._addFailedRequest(e)}))},o=this,a=0,c=r;a<c.length;a++)d=c[a],n(d)}catch(e){}finally{this._clearLocalStorageRequests()}return[2]}))}))},e.prototype._init=function(){var e=this;if("undefined"!=typeof window&&"function"==typeof window.addEventListener&&(window.addEventListener("blur",(function(){return e.flush(!0)})),window.addEventListener("beforeunload",(function(){return e.flush(!0)})),window.addEventListener("load",(function(){setTimeout((function(){return e.flush()}),100),setTimeout((function(){return e.flush()}),1e3)}))),"undefined"!=typeof document&&"function"==typeof document.addEventListener&&document.addEventListener("visibilitychange",(function(){e.flush("visible"!==document.visibilityState)})),(this._options.ignoreWindowUndefined||"undefined"!=typeof window&&null!=window)&&!this._options.localMode){var t=this;this._flushInterval=setInterval((function(){t.flush()}),this._options.loggingIntervalMillis),setTimeout((function(){return e.flush()}),100),setTimeout((function(){return e.flush()}),1e3)}},e.prototype._shouldLogExposure=function(e){var t=this._exposureDedupeKeys[e],r=Date.now();return!(null!=t&&t>=r-6e5||(this._exposureDedupeKeys[e]=r,0))},e.prototype._saveFailedRequests=function(){return n(this,void 0,void 0,(function(){var e;return i(this,(function(t){if(this._failedLogEvents.length>0){if((e=JSON.stringify(this._failedLogEvents)).length>g)return this._clearLocalStorageRequests(),[2];l.default.setItem(u.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,e)}return[2]}))}))},e.prototype._addFailedRequest=function(e){if(!(e.time<Date.now()-432e6||this._failedLogEvents.length>100)){var t=e.events.length;this._failedLogEventCount+t>1e3||(this._failedLogEvents.push(e),this._failedLogEventCount+=t)}},e.prototype._clearLocalStorageRequests=function(){l.default.removeItem(u.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)},e.prototype._newFailedRequest=function(e,t){this._loggedErrors.has(e)||(this._loggedErrors.add(e),this._failedLogEvents.push({events:t,statsigMetadata:this._identity._statsigMetadata,time:Date.now()}),this._saveFailedRequests().then((function(){})))},e}();e.exports.default=v})),n("2xtD0",(function(e,t){"use strict";var r=e.exports&&e.exports.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n,i,o,a){void 0===i&&(i=null),void 0===o&&(o=null);var s=t;return(null==s?void 0:s.privateAttributes)&&delete(s=r({},t)).privateAttributes,{time:Date.now(),eventName:e,statsigMetadata:n,user:s,value:i,metadata:o,secondaryExposures:a}}})),n("9Cev3",(function(e,t){"use strict";var r,n,i=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=e.exports&&e.exports.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StatsigEndpoint=void 0,(n=r=e.exports.StatsigEndpoint||(e.exports.StatsigEndpoint={})).Initialize="initialize",n.Rgstr="rgstr",n.LogEventBeacon="log_event_beacon";var a=function(){function e(e,t,r){this.retryCodes={408:!0,500:!0,502:!0,503:!0,504:!0,522:!0,524:!0,599:!0},this.canUseKeepalive=!1,this._options=e,this._identity=t,this._errorBoundary=r,this.leakyBucket={},this._init()}return e.prototype.fetchValues=function(e,t,n,i){var o={user:e,statsigMetadata:this._identity._statsigMetadata,sinceTime:null!=t?t:void 0,hash:"djb2",previousDerivedFields:i};return this._postWithTimeout(r.Initialize,o,n,3)},e.prototype.sendLogBeacon=function(e){if(this._options.localMode)return!0;var t=new URL(this._options.eventLoggingApi+r.LogEventBeacon);t.searchParams.append("k",this._identity._sdkKey),e.clientTime=Date.now()+"";var n=null;try{n=JSON.stringify(e)}catch(e){return!1}return navigator.sendBeacon(t.toString(),n)},e.prototype.postToEndpoint=function(e,t,n,a,s){return void 0===n&&(n=0),void 0===a&&(a=1e3),void 0===s&&(s=!1),i(this,void 0,void 0,(function(){var u,l,c,d,f,p,h=this;return o(this,(function(_){return this._options.localMode?[2,Promise.reject("no network requests in localMode")]:"function"!=typeof fetch?[2,Promise.reject("fetch is not defined")]:"undefined"!=typeof window||this._options.ignoreWindowUndefined?(u=[r.Initialize].includes(e)?this._options.api:this._options.eventLoggingApi,l=u+e,null!=(c=this.leakyBucket[l])&&c>=30?[2,Promise.reject(new Error("Request failed because you are making the same request too frequently."))]:(this.leakyBucket[l]=null==c?1:c+1,d=JSON.stringify(t),f=this._identity._statsigMetadata,p={method:"POST",body:d,headers:{"Content-type":"application/json; charset=UTF-8","STATSIG-API-KEY":this._identity._sdkKey,"STATSIG-CLIENT-TIME":Date.now()+"","STATSIG-SDK-TYPE":f.sdkType,"STATSIG-SDK-VERSION":f.sdkVersion}},this.canUseKeepalive&&s&&(p.keepalive=!0),[2,fetch(l,p).then((function(e){return i(h,void 0,void 0,(function(){var t,r,i;return o(this,(function(o){switch(o.label){case 0:return e.ok?(t=e,204!==e.status?[3,1]:(t.data={has_updates:!1,is_no_content:!0},[3,3])):[3,4];case 1:return[4,e.text()];case 2:r=o.sent(),t.data=JSON.parse(r),o.label=3;case 3:return[2,Promise.resolve(t)];case 4:return this.retryCodes[e.status]||(n=0),[4,e.text()];case 5:return i=o.sent(),[2,Promise.reject(new Error("".concat(e.status,": ").concat(i)))]}}))}))})).catch((function(r){return n>0?new Promise((function(r,i){setTimeout((function(){h.leakyBucket[l]=Math.max(h.leakyBucket[l]-1,0),h.postToEndpoint(e,t,n-1,2*a,s).then(r).catch(i)}),a)})):Promise.reject(r)})).finally((function(){h.leakyBucket[l]=Math.max(h.leakyBucket[l]-1,0)}))])):[2,Promise.reject("window is not defined")]}))}))},e.prototype.supportsKeepalive=function(){return this.canUseKeepalive},e.prototype._init=function(){if(!this._options.disableNetworkKeepalive)try{this.canUseKeepalive="keepalive"in new Request("")}catch(e){}},e.prototype._postWithTimeout=function(e,t,r,n,a){var s=this;void 0===r&&(r=0),void 0===n&&(n=0),void 0===a&&(a=1e3);var u=!1,l=null,c=null,d=[];0!=r&&(l=new Promise((function(e,t){setTimeout((function(){u=!0,t(new Error("The initialization timeout of ".concat(r,"ms has been hit before the network request has completed.")))}),r)})));var f,p=this.postToEndpoint(e,t,n,a).then((function(r){if(!r.ok)return Promise.reject(new Error("Request to ".concat(e," failed with status ").concat(r.status)));if("object"!=typeof r.data){var l=new Error("Request to ".concat(e," received invalid response type. Expected 'object' but got '").concat(typeof r.data,"'"));return s._errorBoundary._logError("postWithTimeoutInvalidRes",l,(function(){return i(s,void 0,void 0,(function(){return o(this,(function(i){return[2,this._getErrorData(e,t,n,a,r)]}))}))})),Promise.reject(l)}var f=r.data;return s._errorBoundary._capture("postWithTimeout",(function(){return i(s,void 0,void 0,(function(){return o(this,(function(e){return c=f,u&&(d.forEach((function(e){return e(f)})),d=[]),[2,Promise.resolve(f)]}))}))}),(function(){return Promise.resolve({})}),(function(){return i(s,void 0,void 0,(function(){return o(this,(function(i){return[2,this._getErrorData(e,t,n,a,r)]}))}))}))})).catch((function(e){return Promise.reject(e)})),h=l?Promise.race([p,l]):p;return h.eventually=(f=h,function(e){return u&&c?e(c):d.push(e),f}),h},e.prototype._getErrorData=function(e,t,r,n,a){var s;return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){try{return i={},(null!==(s=a.headers)&&void 0!==s?s:[]).forEach((function(e,t){i[t]=e})),[2,{responseInfo:{headers:i,status:a.status,statusText:a.statusText,type:a.type,url:a.url,redirected:a.redirected,bodySnippet:a.data?JSON.stringify(a.data).slice(0,500):null},requestInfo:{endpointName:e,bodySnippet:JSON.stringify(t).slice(0,500),retries:r,backoff:n}}]}catch(e){return[2,{statusText:"statsig::failed to extract extra data"}]}return[2]}))}))},e}();e.exports.default=a})),n("8Lbg5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.INIT_TIMEOUT_DEFAULT_MS=void 0;e.exports.INIT_TIMEOUT_DEFAULT_MS=3e3;var r=function(){function t(t){var r,n,i,o,a,s,u,l,c,d,f,p,h,_;null==t&&(t={});var g=null!==(r=t.api)&&void 0!==r?r:"https://featuregates.org/v1/";this.api=g.endsWith("/")?g:g+"/",this.disableCurrentPageLogging=null!==(n=t.disableCurrentPageLogging)&&void 0!==n&&n,this.environment=null!==(i=t.environment)&&void 0!==i?i:null,this.loggingIntervalMillis=this.normalizeNumberInput(t.loggingIntervalMillis,{default:1e4,min:1e3,max:6e4}),this.loggingBufferMaxSize=this.normalizeNumberInput(t.loggingBufferMaxSize,{default:100,min:2,max:500}),this.disableNetworkKeepalive=null!==(o=t.disableNetworkKeepalive)&&void 0!==o&&o,this.overrideStableID=null!==(a=t.overrideStableID)&&void 0!==a?a:null,this.localMode=null!==(s=t.localMode)&&void 0!==s&&s,this.initTimeoutMs=t.initTimeoutMs&&t.initTimeoutMs>=0?t.initTimeoutMs:e.exports.INIT_TIMEOUT_DEFAULT_MS,this.disableErrorLogging=null!==(u=t.disableErrorLogging)&&void 0!==u&&u,this.disableAutoMetricsLogging=null!==(l=t.disableAutoMetricsLogging)&&void 0!==l&&l,this.initializeValues=null!==(c=t.initializeValues)&&void 0!==c?c:null;var v=null!==(f=null!==(d=t.eventLoggingApi)&&void 0!==d?d:t.api)&&void 0!==f?f:"https://events.statsigapi.net/v1/";this.eventLoggingApi=v.endsWith("/")?v:v+"/",this.disableLocalStorage=null!==(p=t.disableLocalStorage)&&void 0!==p&&p,this.ignoreWindowUndefined=null!==(h=null==t?void 0:t.ignoreWindowUndefined)&&void 0!==h&&h,this.updateUserCompletionCallback=null!==(_=null==t?void 0:t.updateUserCompletionCallback)&&void 0!==_?_:null}return t.prototype.normalizeNumberInput=function(e,t){return null==e?t.default:Math.max(Math.min(e,t.max),t.min)},t}();e.exports.default=r})),n("6YuR1",(function(e,t){"use strict";var n=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=e.exports&&e.exports.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EvaluationReason=void 0;var a,s,u=o(r("kcbPW")),l=o(r("01noY")),c=o(r("7SEfj")),d=r("3Kmxx"),f=r("9PHrf"),p=o(r("eK7RG"));(s=a=e.exports.EvaluationReason||(e.exports.EvaluationReason={})).Network="Network",s.Bootstrap="Bootstrap",s.InvalidBootstrap="InvalidBootstrap",s.Cache="Cache",s.Unrecognized="Unrecognized",s.Uninitialized="Uninitialized",s.Error="Error",s.NetworkNotModified="NetworkNotModified",s.LocalOverride="LocalOverride";var h=function(){function e(e,t,r){this._identity=e,this._onDefaultValueFallback=t,this._userCacheKey=this._identity.getUserCacheKey(),this._values={},this._userValues=this._getDefaultUserCacheValues(),this._loaded=!1,this._reason=a.Uninitialized,r?this.bootstrap(r):this._loadFromLocalStorage()}return e.prototype.updateUser=function(){return this._userCacheKey=this._identity.getUserCacheKey(),this._setUserValueFromCache()},e.prototype.bootstrap=function(e){var t,r,n,i=this._identity.getUserCacheKey(),o=this._identity._user,s=c.default.isValid(o,e)?a.Bootstrap:a.InvalidBootstrap;this._loaded=!0;try{this._userValues.feature_gates=null!==(t=e.feature_gates)&&void 0!==t?t:{},this._userValues.dynamic_configs=null!==(r=e.dynamic_configs)&&void 0!==r?r:{},this._userValues.layer_configs=null!==(n=e.layer_configs)&&void 0!==n?n:{},this._userValues.evaluation_time=Date.now(),this._userValues.time=Date.now(),this._values[i]=this._userValues,this._reason=s}catch(e){return}},e.prototype.isLoaded=function(){return this._loaded},e.prototype.getLastUpdateTime=function(e){var t=(0,f.djb2HashForObject)(e);return this._userValues.user_hash==t?this._userValues.time:null},e.prototype.getPreviousDerivedFields=function(e){var t=(0,f.djb2HashForObject)(e);if(this._userValues.user_hash==t)return this._userValues.derived_fields},e.prototype.setEvaluationReason=function(e){this._reason=e},e.prototype.save=function(e,t,r){return void 0===r&&(r=!0),n(this,void 0,void 0,(function(){var n,o,s,u;return i(this,(function(i){switch(i.label){case 0:return n=(0,f.getUserCacheKey)(e),o=t,this._mergeInitializeResponseIntoUserMap(o,this._values,n,e,(function(e){return e})),r&&(s=this._values[n])&&n&&n==this._userCacheKey&&(this._userValues=s,this._reason=a.Network),u=this,[4,this._writeValuesToStorage(this._values)];case 1:return u._values=i.sent(),[2]}}))}))},e.prototype.checkGate=function(e){var t,r=(0,f.getHashValue)(e),n={name:e,value:!1,rule_id:"",secondary_exposures:[]},i=null===(t=this._userValues)||void 0===t?void 0:t.feature_gates[r];return i&&(n=i),{evaluationDetails:this._getEvaluationDetails(null!=i),gate:n}},e.prototype.getConfig=function(e){var t,r,n,i,o=(0,f.getHashValue)(e);if(null!=(null===(t=this._userValues)||void 0===t?void 0:t.dynamic_configs[o])){var a=null===(r=this._userValues)||void 0===r?void 0:r.dynamic_configs[o];i=this._getEvaluationDetails(!0),n=this._createDynamicConfig(e,a,i)}else i=this._getEvaluationDetails(!1),n=new u.default(e,{},"",i);return n},e.prototype.getLayer=function(e,t){var r,n,i,o=this._getLatestValue(t,"layer_configs"),a=this._getEvaluationDetails(null!=o);return l.default._create(t,null!==(r=null==o?void 0:o.value)&&void 0!==r?r:{},null!==(n=null==o?void 0:o.rule_id)&&void 0!==n?n:"",a,e,null==o?void 0:o.secondary_exposures,null==o?void 0:o.undelegated_secondary_exposures,null!==(i=null==o?void 0:o.allocated_experiment_name)&&void 0!==i?i:"",null==o?void 0:o.explicit_parameters)},e.prototype.getGlobalEvaluationDetails=function(){var e,t;return{reason:null!==(e=this._reason)&&void 0!==e?e:a.Uninitialized,time:null!==(t=this._userValues.evaluation_time)&&void 0!==t?t:0}},e.prototype._loadFromLocalStorage=function(){this._parseCachedValues(p.default.getItem(d.INTERNAL_STORE_KEY)),this._loaded=!0},e.prototype._parseCachedValues=function(e){try{this._values=e?JSON.parse(e):this._values,this._setUserValueFromCache()}catch(e){this._removeFromStorage(d.INTERNAL_STORE_KEY)}},e.prototype._setUserValueFromCache=function(){var e,t=this._values[this._userCacheKey];return null==t?(this._resetUserValues(),this._reason=a.Uninitialized,null):(this._userValues=t,this._reason=a.Cache,null!==(e=t.evaluation_time)&&void 0!==e?e:0)},e.prototype._removeFromStorage=function(e){p.default.removeItem(e)},e.prototype._mergeInitializeResponseIntoUserMap=function(e,t,r,n,i){if(r){var o=this._convertAPIDataToCacheValues(e,r);if(e.has_updates&&e.time){var a=(0,f.djb2HashForObject)(n);o.user_hash=a}t[r]=i(o,r)}},e.prototype._getDefaultUserCacheValues=function(){return{feature_gates:{},layer_configs:{},dynamic_configs:{},time:0,evaluation_time:0,has_updates:!1}},e.prototype._writeValuesToStorage=function(e){return n(this,void 0,void 0,(function(){var t;return i(this,(function(r){return t=Object.entries(e).sort((function(e,t){var r,n,i=e[1],o=t[1];return null==i?1:null==o?-1:(null!==(r=null==o?void 0:o.evaluation_time)&&void 0!==r?r:null==o?void 0:o.time)-(null!==(n=null==i?void 0:i.evaluation_time)&&void 0!==n?n:null==i?void 0:i.time)})).slice(0,10),e=Object.fromEntries(t),p.default.setItem(d.INTERNAL_STORE_KEY,JSON.stringify(e)),[2,e]}))}))},e.prototype._getLatestValue=function(e,t){var r,n,i,o,a,s=(0,f.getHashValue)(e);return null!==(i=null===(n=null===(r=this._userValues)||void 0===r?void 0:r[t])||void 0===n?void 0:n[s])&&void 0!==i?i:null===(a=null===(o=this._userValues)||void 0===o?void 0:o[t])||void 0===a?void 0:a[e]},e.prototype._createDynamicConfig=function(e,t,r){var n,i,o;return new u.default(e,null!==(n=null==t?void 0:t.value)&&void 0!==n?n:{},null!==(i=null==t?void 0:t.rule_id)&&void 0!==i?i:"",r,null==t?void 0:t.secondary_exposures,null!==(o=null==t?void 0:t.allocated_experiment_name)&&void 0!==o?o:"",this._makeOnConfigDefaultValueFallback(this._identity._user))},e.prototype._getEvaluationDetails=function(e,t){var r;return e?{reason:this._reason,time:null!==(r=this._userValues.evaluation_time)&&void 0!==r?r:Date.now()}:{reason:null!=t?t:this._reason==a.Uninitialized?a.Uninitialized:a.Unrecognized,time:Date.now()}},e.prototype._resetUserValues=function(){this._userValues=this._getDefaultUserCacheValues()},e.prototype._convertAPIDataToCacheValues=function(e,t){return{feature_gates:e.feature_gates,layer_configs:e.layer_configs,dynamic_configs:e.dynamic_configs,time:null==e.time||isNaN(e.time)?0:e.time,evaluation_time:Date.now(),derived_fields:e.derived_fields}},e.prototype._makeOnConfigDefaultValueFallback=function(e){var t=this;return function(r,n,i,o){t.isLoaded()&&t._onDefaultValueFallback(e,"Parameter ".concat(n," is a value of type ").concat(o,".\n          Returning requested defaultValue type ").concat(i),{name:r._name,ruleID:r._ruleID,parameter:n,defaultValueType:i,valueType:o})}},e}();e.exports.default=h})),n("7SEfj",(function(e,t){"use strict";var r=e.exports&&e.exports.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(e.exports,"__esModule",{value:!0});var n=function(){function e(){}return e.isValid=function(t,r){try{var n=r.evaluated_keys;if(!n||"object"!=typeof n)return!0;var i=this.copyObject(n),o=null==t?null:this.copyObject(t);return e.validate(i,o)&&e.validate(o,i)}catch(e){}return!0},e.validate=function(e,t){if(null==e)return null==t;if(null==t)return!1;for(var r=0,n=Object.entries(e);r<n.length;r++){var i=n[r],o=i[0],a=i[1];if("stableID"!==o){if(typeof a!=typeof t[o])return!1;if("string"!=typeof a)return"object"==typeof a&&this.validate(a,t[o]);if(a!==t[o])return!1}}return!0},e.copyObject=function(e){if(null==e)return null;var t={};if((null==e?void 0:e.userID)&&(t.userID=null==e?void 0:e.userID),null==e?void 0:e.customIDs){var n=r({},e.customIDs);delete n.stableID,0!==Object.keys(n).length&&(t.customIDs=n)}return t},e}();e.exports.default=n})),n("k2HtX",(function(e,t){"use strict";function r(){return"undefined"!=typeof performance&&performance?0|performance.now():Date.now()}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.difference=e.exports.now=void 0,e.exports.now=r,e.exports.difference=function(e){return r()-e}})),n("e0BEy",(function(e,t){"use strict";var n=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.saveOverridesToLocalStorage=e.exports.loadOverridesFromLocalStorage=e.exports.makeEmptyOverrides=e.exports.STORAGE_KEY=void 0;var i=n(r("eK7RG"));function o(){return{gates:{},configs:{},layers:{}}}e.exports.STORAGE_KEY="STATSIG_JS_LITE_LOCAL_OVERRIDES",e.exports.makeEmptyOverrides=o,e.exports.loadOverridesFromLocalStorage=function(){var t=i.default.getItem(e.exports.STORAGE_KEY);if(t)try{return JSON.parse(t)}catch(e){}return{gates:{},configs:{},layers:{}}},e.exports.saveOverridesToLocalStorage=function(t){i.default.setItem(e.exports.STORAGE_KEY,JSON.stringify(t))}})),n("2Do6Z",(function(e,t){"use strict";var n=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=r("kkSoF");Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return n(i).default}})})),n("kkSoF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("fy74T"),i=r("5nQIX"),o=r("lvOWG");class a{static async fetchClientSdk(e){const{targetApp:t}=e,r=`/api/v2/frontend/clientSdkKey/${t}`;try{return await this.fetchRequest(r,"GET",e)}catch(e){if(e instanceof Error)throw e;throw Error("Failed to retrieve client sdk key")}}static async fetchExperimentValues(e,t,r){const n={identifiers:t,customAttributes:r,targetApp:e.targetApp};try{return await this.fetchRequest("/api/v2/frontend/experimentValues","POST",e,n)}catch(e){if(e instanceof Error)throw e;throw Error("Failed to retrieve experiment values")}}static async handleResponseError(e){if(!e.ok){const t=await e.text();throw new n.ResponseError(`Non 2xx response status received, status: ${e.status}, body: ${JSON.stringify(t)}`)}if(204===e.status)throw new n.ResponseError("Unexpected 204 response")}static async extractResponseBody(e){const t=await e.text();return JSON.parse(t)}static getBaseUrl(e,t=!1){if(t)return"/gateway/api/flags";switch(e){case i.FeatureGateEnvironment.Development:return"https://api.dev.atlassian.com/flags";case i.FeatureGateEnvironment.Staging:return"https://api.stg.atlassian.com/flags";default:return"https://api.atlassian.com/flags"}}static async fetchRequest(e,t,r,n){const i=a.getBaseUrl(r.environment,r.useGatewayURL),s=r.fetchTimeoutMs||2e3;let u;if(AbortSignal.timeout)u=AbortSignal.timeout(s);else if(AbortController){const e=new AbortController;u=e.signal,setTimeout((()=>e.abort()),s)}const l=await fetch(`${i}${e}`,Object.assign({method:t,headers:{"Content-Type":"application/json","X-Client-Name":"feature-gate-js-client","X-Client-Version":o.CLIENT_VERSION,"X-API-KEY":r.apiKey},signal:u},n&&{body:JSON.stringify(n)}));return await this.handleResponseError(l),await this.extractResponseBody(l)}}e.exports.default=a})),n("fy74T",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ResponseError=void 0;class r extends Error{constructor(e){super(e)}}e.exports.ResponseError=r})),n("5nQIX",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.FeatureGateEnvironment=void 0,(n=r||(e.exports.FeatureGateEnvironment=r={})).Development="development",n.Staging="staging",n.Production="production"})),n("lvOWG",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.CLIENT_VERSION=void 0,e.exports.CLIENT_VERSION="4.4.0"}))}();
//# sourceMappingURL=horizontal-navigation.790cbfd4.js.map
